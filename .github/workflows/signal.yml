name: Auto Signal

on:
  workflow_dispatch:  # à¤®à¥ˆà¤¨à¥à¤¯à¥à¤…à¤²à¥€ GitHub à¤¸à¥‡ run à¤•à¤° à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚
  schedule:
    - cron: "*/15 3-10 * * 1-5"  # à¤¹à¤° 15 à¤®à¤¿à¤¨à¤Ÿ à¤ªà¤° (à¤¸à¥‹à¤®-à¤¶à¥à¤•à¥à¤°, 8:30 AMâ€“3:30 PM IST)

jobs:
  signal:
    runs-on: ubuntu-latest

    steps:
      - name: â¬‡ï¸ Checkout repo
        uses: actions/checkout@v3

      - name: ðŸ Setup Python
        uses: actions/setup-python@v4
        with:
          python-version: "3.10"

      - name: ðŸ“¦ Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt
          pip install gspread oauth2client pandas requests

      - name: ðŸ›‚ Create creds.json from secret
        run: echo "${{ secrets.GOOGLE_CREDENTIALS_JSON }}" > creds.json

      - name: ðŸš€ Run Algo Bot
        run: python main.py
        env:
          GOOGLE_APPLICATION_CREDENTIALS: creds.json
          SHEET_ID: ${{ secrets.SHEET_ID }}
          TELEGRAM_BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
          TELEGRAM_CHAT_ID: ${{ secrets.TELEGRAM_CHAT_ID }}

name: Auto Signal

on:
  workflow_dispatch:  # à¤®à¥ˆà¤¨à¥à¤¯à¥à¤…à¤²à¥€ GitHub à¤¸à¥‡ run à¤•à¤° à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚
  schedule:
    - cron: "*/15 3-10 * * 1-5"  # à¤¹à¤° 15 à¤®à¤¿à¤¨à¤Ÿ à¤ªà¤° (à¤¸à¥‹à¤®-à¤¶à¥à¤•à¥à¤°, 9:00 AMâ€“3:30 PM IST)

jobs:
  signal:
    runs-on: ubuntu-latest

    steps:
      - name: â¬‡ï¸ Checkout repo
        uses: actions/checkout@v3

      - name: ðŸ Setup Python
        uses: actions/setup-python@v4
        with:
          python-version: "3.10"

      - name: ðŸ“¦ Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt
          pip install gspread oauth2client pandas requests

      - name: ðŸ›‚ Create creds.json from secret
        run: echo "${{ secrets.GOOGLE_CREDENTIALS_JSON }}" > creds.json

      - name: ðŸš€ Run Algo Bot
        run: python main.py
        env:
          GOOGLE_APPLICATION_CREDENTIALS: creds.json
          SHEET_ID: ${{ secrets.SHEET_ID }}
          TELEGRAM_BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
          TELEGRAM_CHAT_ID: ${{ secrets.TELEGRAM_CHAT_ID }}
